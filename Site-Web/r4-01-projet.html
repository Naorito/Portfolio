<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R4.01 ‚Äì API √©quipe de sport | Yacine DOUKANI</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a class="logo" href="../index.html#accueil">Portfolio</a>
            <ul class="nav-menu">
                <li><a href="../index.html#accueil" class="nav-link">Accueil</a></li>
                <li><a href="../index.html#competences" class="nav-link">Comp√©tences</a></li>
                <li><a href="../index.html#projets" class="nav-link">Projets</a></li>
                <li><a href="../index.html#contact" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="project-detail">
        <a href="../index.html#projets" class="back-link">‚Üê Retour aux projets</a>
        <h1>R4.01 ‚Äì Architectures logicielles : API de gestion d‚Äôune √©quipe de sport</h1>
        <div class="meta">üìÖ 2024 ‚Äì 2025 | S√©paration Auth / Back / Front</div>

        <section>
            <h2>Objectif</h2>
            <p>
                Cr√©ation d'une application MVC en architecture 3 applications distinctes‚Äâ: <strong>API d‚Äôauthentification</strong> (JWT),
                <strong>API m√©tier</strong> pour joueurs/matchs/feuilles, et <strong>Frontend IHM</strong> consommant les API.
                Deux bases de donn√©es s√©par√©es assurent l‚Äôisolation entre <em>authentification</em> et <em>traitements m√©tier</em>.
            </p>
            <div class="tech-list">
                <span>PHP</span><span>XAMPP</span><span>PDO</span><span>JWT</span><span>Postman</span><span>AlwaysData</span><span>MySQL</span>
            </div>
        </section>

        <section>
            <h2>URLs & Acc√®s</h2>
            <ul>
                <li><strong>Authentification (JWT)</strong>‚Äâ: <a href="https://naorito.alwaysdata.net/R4.01-Projet_API/Projet_PHP_API/Auth/Connexion.php" target="_blank">Connexion.php</a></li>
                <li><strong>Index</strong>‚Äâ: <a href="https://naorito.alwaysdata.net/index.html" target="_blank">naorito.alwaysdata.net/index.html</a> (redirige vers authentification)</li>
            </ul>
            <p class="note"><strong>Note :</strong> Toutes les API m√©tier exigent un en-t√™te <span class="kbd">Authorization: Bearer &lt;JWT&gt;</span>.</p>
        </section>

        <section>
            <h2>Endpoints principaux</h2>
            <div>
                <span class="endpoint">POST /Authentification</span>
                <span class="endpoint">GET /ListeJoueur</span>
                <span class="endpoint">POST /AjouterJoueur</span>
                <span class="endpoint">PUT /ModifierJoueur</span>
                <span class="endpoint">DEL /SupprimerJoueur</span>
                <span class="endpoint">GET /ListeMatch</span>
                <span class="endpoint">POST /AjouterMatch</span>
                <span class="endpoint">PUT /ModifierMatch</span>
                <span class="endpoint">DEL /SupprimerMatch</span>
                <span class="endpoint">GET /FeuilleMatch</span>
                <span class="endpoint">PUT /AjoutFeuilleMatch</span>
                <span class="endpoint">DEL /SupprimerFeuilleMatch</span>
                <span class="endpoint">GET /Statistiques</span>
                <span class="endpoint">PUT /Resultat</span>
                <span class="endpoint">GET /Evaluation</span>
            </div>
            <p>
                Certains endpoints attendent des param√®tres d‚ÄôURL, par exemple‚Äâ:
                <strong>FeuilleMatch</strong>‚Äâ: <em>?match_id=42</em> ‚Üí
                <a href="http://naorito.alwaysdata.net/R4.01-Projet_API/Projet_PHP_API/backend/FeuilleMatchAPI.php?match_id=42" target="_blank">exemple</a>
                (n√©cessite l‚Äôen-t√™te JWT, autrement 401).
            </p>
        </section>

        <section>
            <h2>Base de donn√©es</h2>
            <ul>
                <li><strong>Auth DB</strong>‚Äâ: utilisateurs autoris√©s, tokens (via API).</li>
                <li><strong>Metier DB</strong>‚Äâ: joueurs, matchs, feuilles de match, statistiques.</li>
            </ul>
            <p>
                H√©bergement MySQL via AlwaysData (phpMyAdmin). Acc√®s encapsul√© par <strong>PDO</strong> dans le backend,
                via un utilitaire <em>BD.php</em> (r√©pertoire <em>librairie</em>), centralisant connexion et requ√™tes.
            </p>
        </section>

        <section>
            <h2>Tests Postman</h2>
            <h3>1) Obtenir un jeton</h3>
            <div class="code-block">{
    "username": "Joueur@gmail.com",
    "password": "Password"
}</div>
            <p>Envoyer sur <em>Authentification</em> puis copier le champ <strong>token</strong>.</p>

            <h3>2) Ajouter le header</h3>
            <p>Dans chaque requ√™te API‚Äâ: <span class="kbd">Authorization</span> = <span class="kbd">Bearer &lt;token&gt;</span>.</p>

            <h3>Exemples de corps de requ√™tes</h3>
            <h4>Ajouter un joueur (POST)</h4>
            <div class="code-block">{
    "nom": "Dupont",
    "prenom": "Moreno",
    "numero_licence": "123456578",
    "date_naissance": "2000-01-01",
    "taille": 180,
    "poids": 75,
    "statut": "Actif"
}</div>

            <h4>Ajouter un match (POST)</h4>
            <div class="code-block">{
    "date_match": "2023-12-01",
    "heure_match": "15:00",
    "equipe_adverse": "√âquipe B",
    "lieu": "Domicile",
    "resultat_equipe": null,
    "resultat_adverse": null
}</div>

            <h4>Modifier un joueur (PUT)</h4>
            <div class="code-block">{
    "id": 31,
    "nom": "Dupont",
    "prenom": "Jean",
    "numero_licence": "123456",
    "date_naissance": "1990-01-01",
    "taille": 180,
    "poids": 74,
    "statut": "Actif",
    "commentaires": "Bon joueur"
}</div>

            <h4>Modifier un match (PUT)</h4>
            <div class="code-block">{
    "id": 42,
    "date_match": "2025-12-02",
    "heure_match": "16:00",
    "equipe_adverse": "√âquipe C",
    "lieu": "Ext√©rieur",
    "resultat_equipe": 2,
    "resultat_adverse": 6
}</div>

            <h4>Modifier une feuille de match (PUT)</h4>
            <div class="code-block">{
    "match_id": 42,
    "joueurs": [
        {"joueur_id": 14, "statut": "titulaire", "poste_prefere": "Top Lane"},
        {"joueur_id": 15, "statut": "titulaire", "poste_prefere": "Mid Lane"},
        {"joueur_id": 16, "statut": "titulaire", "poste_prefere": "Jungler"},
        {"joueur_id": 17, "statut": "titulaire", "poste_prefere": "Bot Lane ADC"},
        {"joueur_id": 18, "statut": "titulaire", "poste_prefere": "Bot Lane Support"},
        {"joueur_id": 19, "statut": "remplacant", "poste_prefere": "Top Lane"},
        {"joueur_id": 20, "statut": "remplacant", "poste_prefere": "Mid Lane"},
        {"joueur_id": 21, "statut": "remplacant", "poste_prefere": "Jungler"}
    ]
}</div>

            <h4>Modifier le r√©sultat (PUT)</h4>
            <div class="code-block">{
    "id": 38,
    "date_match": "2025-04-19",
    "heure_match": "02:19",
    "equipe_adverse": "Test1",
    "lieu": "Domicile",
    "resultat_equipe": 3,
    "resultat_adverse": 2
}</div>

            <p>Pour les <strong>GET</strong>, fournir <em>match_id</em> lorsque requis‚Äâ: <span class="kbd">?match_id=42</span>.</p>
            <p>Pour les <strong>DELETE/PUT</strong> cibl√©s, utiliser <span class="kbd">?id=42</span> selon l‚Äôendpoint.</p>
        </section>

        <section>
            <h2>Frontend & IHM</h2>
            <p>
                L‚Äôinterface utilisateur reprend les pages du dossier <em>frontend</em>‚Äâ: ListeJoueur, ListeMatch, Cr√©ation/Modification
                des joueurs/matchs, Feuille de match, R√©sultat, Commentaire, √âvaluations, Statistiques. La page d‚Äôauthentification
                (Auth/Connexion.php) permet d‚Äôobtenir le jeton avant toute action.
            </p>
        </section>

        <section>
            <h2>S√©curit√©</h2>
            <ul>
                <li>Authentification via <strong>JWT</strong>, jeton exig√© sur toutes les API m√©tier.</li>
                <li>S√©paration stricte des bases de donn√©es (auth vs m√©tier).</li>
                <li>Acc√®s DB via <strong>PDO</strong> et requ√™tes pr√©par√©es.</li>
            </ul>
        </section>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2026 Yacine DOUKANI. Tous droits r√©serv√©s.</p>
        </div>
    </footer>
</body>
</html>
